# Railway Configuration
# Este archivo le dice a Railway cómo construir y ejecutar la aplicación

[phases.setup]
nixPkgs = ["nodejs_20"]

[phases.install]
cmds = ["npm install", "npm install --prefix frontend-react"]

[phases.build]
# Set VITE_API_URL to empty string so frontend uses relative URLs in production
cmds = ["VITE_API_URL='' npm run build --prefix frontend-react"]

[start]
cmd = "node index.js"
